import * as Types from './axios-client.types';
export * from './axios-client.types';

//----------------------
// <auto-generated>
//     Generated using the NSwag toolchain v13.20.0.0 (NJsonSchema v11.0.0.0 (Newtonsoft.Json v13.0.0.0)) (http://NSwag.org)
// </auto-generated>
//----------------------

/* tslint:disable */
/* eslint-disable */
// ReSharper disable InconsistentNaming

import type { AxiosError } from 'axios';
import type { AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelToken } from 'axios';

export * as ValidationClient from './axios-client/ValidationClient';

export * as ValidationQuery from './axios-client/ValidationQuery';



export * as StatisticsClient from './axios-client/StatisticsClient';

export * as StatisticsQuery from './axios-client/StatisticsQuery';



export * as SemestersClient from './axios-client/SemestersClient';

export * as SemestersQuery from './axios-client/SemestersQuery';



export * as ImportClient from './axios-client/ImportClient';

export * as ImportQuery from './axios-client/ImportQuery';



export * as DocumentGenerationClient from './axios-client/DocumentGenerationClient';

export * as DocumentGenerationQuery from './axios-client/DocumentGenerationQuery';



export * as DepartmentClient from './axios-client/DepartmentClient';

export * as DepartmentQuery from './axios-client/DepartmentQuery';



export * as CurriculumClient from './axios-client/CurriculumClient';

export * as CurriculumQuery from './axios-client/CurriculumQuery';



export * as SelectionClient from './axios-client/SelectionClient';

export * as SelectionQuery from './axios-client/SelectionQuery';



export * as ComponentClient from './axios-client/ComponentClient';

export * as ComponentQuery from './axios-client/ComponentQuery';



export * as ModuleClient from './axios-client/ModuleClient';

export * as ModuleQuery from './axios-client/ModuleQuery';



export * as AtomClient from './axios-client/AtomClient';

export * as AtomQuery from './axios-client/AtomQuery';



export * as AtomCompetenceClient from './axios-client/AtomCompetenceClient';

export * as AtomCompetenceQuery from './axios-client/AtomCompetenceQuery';



export * as CompetenceClient from './axios-client/CompetenceClient';

export * as CompetenceQuery from './axios-client/CompetenceQuery';



export * as AuthClient from './axios-client/AuthClient';

export * as AuthQuery from './axios-client/AuthQuery';



export * as AttestationClient from './axios-client/AttestationClient';

export * as AttestationQuery from './axios-client/AttestationQuery';



export * as AtomInSemesterClient from './axios-client/AtomInSemesterClient';

export * as AtomInSemesterQuery from './axios-client/AtomInSemesterQuery';



export * as AcademicActivityClient from './axios-client/AcademicActivityClient';

export * as AcademicActivityQuery from './axios-client/AcademicActivityQuery';



export * as HoursDistributionClient from './axios-client/HoursDistributionClient';

export * as HoursDistributionQuery from './axios-client/HoursDistributionQuery';





import { addResultTypeFactory } from './axios-client/helpers';
export { setBaseUrl, getBaseUrl } from './axios-client/helpers';
export { setAxiosFactory, getAxios } from './axios-client/helpers';


//-----PersistorHydrator.File-----
import type { PersistedClient } from '@tanstack/react-query-persist-client';
import type { DehydratedState, QueryKey } from '@tanstack/react-query'
import { getResultTypeFactory } from './axios-client/helpers';

/*
 * If you have Dates in QueryKeys (i.e. in request parameters), you need to deserialize them to Dates correctly
 * (otherwise they are deserialized as strings by default, and your queries are broken).
 */
export function deserializeDate(str: unknown) {
  if (!str || typeof str !== 'string') return str;
  if (!/^\d\d\d\d\-\d\d\-\d\d/.test(str)) return str;
  
  const date = new Date(str);
  const isDate = date instanceof Date && !isNaN(date as any);
  
  return isDate ? date : str;
}

export function deserializeDatesInQueryKeys(queryKey: QueryKey) {
  return queryKey
    // We need to replace `null` with `undefined` in query key, because
    // `undefined` is serialized as `null`.
    // And most probably if we have `null` in QueryKey it actually means `undefined`.
    // We can't keep nulls, because they have a different meaning, and e.g. boolean parameters are not allowed to be null.
    .map(x => (x === null ? undefined : x))
    .map(x => deserializeDate(x));
}

export function deserializeClassesInQueryData(queryKey: QueryKey, data: any) {
  if (!data) {
    return data;
  } else if (typeof data !== 'object') {
    return data;
  } else if ('pages' in data && 'pageParams' in data && Array.isArray(data.pages) && Array.isArray(data.pageParams)) {
    // infinite query
    data.pages = data.pages.map((page:any) => deserializeClassesInQueryData(queryKey, page));
  } else if (Array.isArray(data)) {
    return data.map(elem => constructDtoClass(queryKey, elem));
  } else {
    return constructDtoClass(queryKey, data);
  }
}

/*
 * Pass this function as `deserialize` option to createSyncStoragePersister/createAsyncStoragePersister
 * to correctly deserialize your DTOs (including Dates)
 */
export function persisterDeserialize(cache: string): PersistedClient {
  const client: PersistedClient = JSON.parse(cache);
  client.clientState.queries.forEach((query) => {
    query.state.data = deserializeClassesInQueryData(query.queryKey, query.state.data);
    query.queryKey = deserializeDatesInQueryKeys(query.queryKey);
  });

  return client;
}

export function constructDtoClass(queryKey: QueryKey, data: any): unknown {
  const resultTypeKey = getResultTypeClassKey(queryKey);
  const constructorFunction = getResultTypeFactory(resultTypeKey);

  if (!data || !constructorFunction)
    return data;

  return constructorFunction(data);
}

export function getResultTypeClassKey(queryKey: QueryKey): string {
  if (!Array.isArray(queryKey)) {
    return queryKey as unknown as string;
  }
  if (queryKey.length >= 2) {
    // We concatenate first and second elements, because they uniquely identify the query.
    // All other QueryKey elements are query parameters
    return `${queryKey[0]}___${queryKey[1]}`;
  }

  // We actually should never reach this point :)
  return queryKey.join('___');
}

export function initPersister() {
  
  addResultTypeFactory('ValidationClient___getValidationErrors', (data: any) => Types.initValidationError(data));
  addResultTypeFactory('ValidationClient___getValidators', (data: any) => Types.initValidatorsDto(data));


  addResultTypeFactory('StatisticsClient___getStatistics', (data: any) => Types.initStatisticsDto(data));


  addResultTypeFactory('SemestersClient___getSemesters', (data: any) => Types.initRefModuleSemesterDto(data));






  addResultTypeFactory('DepartmentClient___getDepartments', (data: any) => Types.initDepartmentDto(data));


  addResultTypeFactory('CurriculumClient___searchCurriculums', (data: any) => Types.initCurriculumShortDto(data));
  addResultTypeFactory('CurriculumClient___getCurriculum', (data: any) => Types.initCurriculumDto(data));




  addResultTypeFactory('ComponentClient___getIndexes', (data: any) => Types.initTupleOfIntegerAndString(data));


  addResultTypeFactory('ModuleClient___getModule', (data: any) => Types.initModuleDto(data));
  addResultTypeFactory('ModuleClient___getModulesByCurriculum', (data: any) => Types.initModuleDto(data));


  addResultTypeFactory('AtomClient___getAtom', (data: any) => Types.initAtomDto(data));
  addResultTypeFactory('AtomClient___getAtomsByCurriculum', (data: any) => Types.initAtomDto(data));




  addResultTypeFactory('CompetenceClient___getCompetences', (data: any) => Types.initCompetenceDto(data));
  addResultTypeFactory('CompetenceClient___getCompetenceIndicators', (data: any) => Types.initCompetenceIndicatorDto(data));


  addResultTypeFactory('AuthClient___getUser', (data: any) => Types.initUserDto(data));


  addResultTypeFactory('AttestationClient___searchAttestations', (data: any) => Types.initAttestationDto(data));




  addResultTypeFactory('AcademicActivityClient___getAcademicActivities', (data: any) => Types.initAcademicActivityDto(data));




}
//-----/PersistorHydrator.File----